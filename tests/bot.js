// Generated by CoffeeScript 1.10.0
(function() {
  var QQBot, api, auth_info, bot, config, cookies, defaults, group, jsons, log;

  log = require('../util/log');

  jsons = JSON.stringify;

  api = require("../src/qqapi");

  QQBot = require("../src/qqbot");

  defaults = require('../src/defaults');

  config = require('../config');

  cookies = defaults.data('cookie');

  auth_info = defaults.data('auth');

  bot = new QQBot(cookies, auth_info, config);

  group = null;

  bot.listen_group("qqbotç¾¤", function(_group, error) {
    log.info("enter long poll mode, have fun");
    bot.runloop();
    group = _group;
    return group.on_message(function(content, send, robot, message) {
      log.info('received', content);
      if (content.match(/^wow/)) {
        return send('mom');
      }
    });
  });

}).call(this);
